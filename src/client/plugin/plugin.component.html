<div class="flex-grow-1 d-flex position-relative">
	<scroll-shadow-box class="flex-grow-1">
		<div class="container pb-tawk">
			<h2 i18n>Buchungssystem-Einstellungen</h2>
			<p-tabs (onChange)="refreshShowPlugin($event)" class="mb-4">
				<p-tab
					label="Grunddaten" i18n-label
					[urlName]="PluginComponentTabs.BASIS"
					[size]="PTabSizeEnum.FRAMELESS"
				>
					<ng-template [ngIf]="accountApi.isLoaded()">
						<p-plugin-settings
							*ngIf="!!formGroup"
							(initFormGroup)="initFormGroup()"
							[group]="formGroup"
						></p-plugin-settings>
					</ng-template>
				</p-tab>

				<p-tab
					[attributeInfo]="api.data.adyenAccount.attributeInfoThis"
					[show]="(!accountApi.isLoaded() || !api.isLoaded()) ? null : api.data.adyenAccount.attributeInfoThis.canEdit"
					label="Online-Zahlung" i18n-label
					[urlName]="PluginComponentTabs.PAYMENTS"
					[hasDanger]="canDoOnboarding && api.data.adyenAccount.onboardingActionRequiredOrPending"
					[size]="PTabSizeEnum.FRAMELESS"
					class="payments"
				>
				<div class="container p-0">
					<ng-template [ngIf]="!adyenIsSupported" [ngIfElse]="onlinePaymentTemplate">
						<p-alert [theme]="PThemeEnum.INFO" class="m-5" i18n>Online-Zahlung steht fÃ¼r deine LandeswÃ¤hrung noch nicht zur VerfÃ¼gung. Falls du die Online-Zahlung nutzen mÃ¶chtest, melde dich gerne bei uns im Chat oder per <a href="mailto:service@dr-plano.com">Email</a>.</p-alert>
					</ng-template>
					<ng-template #onlinePaymentTemplate>
						<p-section class="pt-5">
							<p-alert *ngIf="showPaypalShutdownAlert" i18n>Achtung: PayPal wird am <mark>{{Config.PAYPAL_SHUTDOWN_DATE | date:'short'}}</mark> endgÃ¼ltig abgeschaltet. Bitte aktiviere bis dahin Ã¼ber diese Seite die neue Online-Zahlung, um fÃ¼r einen nahtlosen Ãœbergang der Zahlungsfunktion zu sorgen. Schau dir bitte vor der Aktivierung unsere <a href="https://extras.dr-plano.com/new-online-payment" target="_blank" rel="noopener">Info-Seite zur Umstellung</a> an.<br>Wir empfehlen dir, die Aktivierung der neuen Zahlungsfunktion frÃ¼h genug durchzufÃ¼hren, da sie eine PrÃ¼fung deiner Daten beinhaltet und einige Tage in Anspruch nehmen kann.</p-alert>
							<p i18n>Die Online-Zahlung ist ein enormer Effizienzschub fÃ¼r das Online-Buchungssystem. Sie sichert dir schnelle und bequeme Zahlungen, erhÃ¶ht erfahrungsgemÃ¤ÃŸ deinen Umsatz, verringert ZahlungsausfÃ¤lle und sorgt zugleich fÃ¼r zufriedenere Kunden.</p><p i18n>Auf dieser Seite kannst du die Online-Zahlung aktivieren und danach deine Daten fÃ¼r die Online-Zahlung verwalten. AuÃŸerdem findest du hier wichtige Infos rund um das Thema Online-Zahlung. Die hÃ¤ufigsten Fragen beantworten wir dir in unserer <a routerLink="/client/plugin/faq-online-payment" rel="noopener" target="_blank"><fa-icon [fixedWidth]="true" [icon]="PlanoFaIconPool.AREA_FAQ" class="mr-1"></fa-icon>FAQ zur Online-Zahlung</a>.</p>
						</p-section>
						<p-section [background]="'light-cold'">
							<h4 *ngIf="api.data.adyenAccount.accountHolderState!==SchedulingApiAccountHolderState.NOT_INITIALIZED" i18n>Status deiner Online-Zahlung</h4>
							<ng-container *ngIf="api.isLoaded(); else spinnerTemplate">
								<p-grid class="d-flex align-items-end">
									<ng-container *ngIf="api.data.adyenAccount.accountHolderState!==SchedulingApiAccountHolderState.NOT_INITIALIZED">
										<div class="col-12 col-md-6">
											<p-card class="card-body shadow-sm mb-4" [radiusSize]="BootstrapSize.LG">
												<h6>Zahlungen durch Kunden & RÃ¼ckerstattungen</h6>
												<div class="d-flex">
													<p-led class="mr-2" [off]="false" [theme]="api.data.adyenAccount.accountHolderProcessingState === SchedulingApiAccountHolderProcessingState.PROCESSING_ALLOWED ? PThemeEnum.SUCCESS : PThemeEnum.DANGER"></p-led>
													<ng-container i18n *ngIf="api.data.adyenAccount.accountHolderProcessingState === SchedulingApiAccountHolderProcessingState.PROCESSING_ALLOWED">Aktiv</ng-container>
													<ng-container i18n *ngIf="api.data.adyenAccount.accountHolderProcessingState !== SchedulingApiAccountHolderProcessingState.PROCESSING_ALLOWED">Inaktiv</ng-container>
												</div>
											</p-card>
										</div>
										<div class="col-12 col-md-6">
											<p-card class="card-body shadow-sm mb-4" [radiusSize]="BootstrapSize.LG">
												<h6>Auszahlung deines Online-Guthabens</h6>
												<div class="d-flex">
													<p-led class="mr-2" [off]="false" [theme]="api.data.adyenAccount.accountHolderPayoutState === SchedulingApiAccountHolderPayoutState.PAYOUT_ALLOWED ? PThemeEnum.SUCCESS : PThemeEnum.DANGER"></p-led>
													<ng-container i18n *ngIf="api.data.adyenAccount.accountHolderPayoutState === SchedulingApiAccountHolderPayoutState.PAYOUT_ALLOWED">Aktiv</ng-container>
													<ng-container i18n *ngIf="api.data.adyenAccount.accountHolderPayoutState !== SchedulingApiAccountHolderPayoutState.PAYOUT_ALLOWED">Inaktiv</ng-container>
												</div>
											</p-card>
										</div>
										<div class="col-12" *ngIf="accountApi.isLoaded() && api.data.adyenAccount.attributeInfoPayoutSchedule.show && accountApi.data.attributeInfoPayoutNotificationExportPassword.show">
											<p-card class="card-body shadow-sm mb-4" [radiusSize]="BootstrapSize.LG">
												<p-grid>
													<div class="col-12 col-md-6">
														<p-form-control-switch
															*ngIf="formGroup; else spinnerTemplate"
															label="Rhythmus der Guthaben-Auszahlung" i18n-label
															description="Mehr Ã¼ber die AuszahlungsmodalitÃ¤ten erfÃ¤hrst du in unserer FAQ zur Online-Zahlung." i18n-description
															[group]="formGroup"
															[attributeInfo]="api.data.adyenAccount.attributeInfoPayoutSchedule"
															[type]="FormControlSwitchType.DROPDOWN"
															[saveChangesHook]="savePayoutScheduleChangesHook"
														>
															<p-form-control-switch-item
																label="WÃ¶chentlich" i18n-label
																[value]="SchedulingApiAccountHolderPayoutSchedule.WEEKLY"
															></p-form-control-switch-item>
															<p-form-control-switch-item
																label="Alle 14 Tage" i18n-label
																[value]="SchedulingApiAccountHolderPayoutSchedule.BIWEEKLY"
															></p-form-control-switch-item>
															<p-form-control-switch-item
																label="Monatlich" i18n-label
																[value]="SchedulingApiAccountHolderPayoutSchedule.MONTHLY"
															></p-form-control-switch-item>
														</p-form-control-switch>
													</div>
													<div
														class="col-12 col-md-6"
														*ngIf="accountApi.data.attributeInfoPayoutNotificationExportPassword.show"
													>
														<p-form-group
															label="Passwort fÃ¼r den Auszahlungsexport" i18n-label
															description="Dr.&nbsp;Plano zahlt dir dein durch die Online-Zahlung entstandenes Guthaben regelmÃ¤ÃŸig auf dein Bankkonto aus. Nach jeder Guthaben-Auszahlung erhalten alle Admins eine Email Ã¼ber die AuszahlungshÃ¶he, in der ein Export aller fÃ¼r die Auszahlung relevanten Transaktionen angehÃ¤ngt sein wird. Um den Export zu Ã¶ffnen, benÃ¶tigst du dieses Passwort." i18n-description
														>
															<p-input-copy-string
																[type]="PApiPrimitiveTypes.Password"
																[valueToCopy]="accountApi.data.payoutNotificationExportPassword"
															></p-input-copy-string>
														</p-form-group>
													</div>
													<div class="col-12" *ngIf="this.api.data.adyenAccount.attributeInfoNextPayoutDate.show" i18n>NÃ¤chste Auszahlungsanweisung voraussichtlich am: <strong>{{ this.api.data.adyenAccount.nextPayoutDate | date:'shortDate' }}</strong> (Abweichung von wenigen Tagen mÃ¶glich)</div>

												</p-grid>
											</p-card>
										</div>
									</ng-container>
									<div class="col-12 mb-4 mt-2 mb-md-3 d-flex flex-column align-items-start">
										<!-- TODO: replace with ICU - wasn't able to get it to work with enums-->
										<div class="mb-3">
											<ng-container *ngIf="api.isLoaded()">
												<strong *ngIf="api.data.adyenAccount.accountHolderState===SchedulingApiAccountHolderState.NOT_INITIALIZED" i18n>Die Online-Zahlung ist noch nicht aktiviert.</strong>
												<strong *ngIf="api.data.adyenAccount.accountHolderState===SchedulingApiAccountHolderState.INITIAL_ONBOARDING" i18n>Das Onboarding wurde begonnen, ist aber noch nicht abgeschlossen. Daher kann die Online-Zahlung noch nicht aktiviert werden. Updates zum Onboarding-Status erhÃ¤ltst du per Email und auf der Onboarding-Seite von Adyen (<a class="link" (click)="scrollToAdyenChangeData()">siehe unten</a>).</strong>
												<strong *ngIf="api.data.adyenAccount.accountHolderState===SchedulingApiAccountHolderState.ACTIVE && !api.data.adyenAccount.onboardingActionRequiredOrPending" i18n>Alle Funktionen der Online-Zahlung sind aktiv. Falls du dein hinterlegtes Bankkonto oder andere Daten Ã¤ndern mÃ¶chtest, scrolle bitte ganz nach unten zur DatenÃ¤nderung.</strong>
												<strong *ngIf="(api.data.adyenAccount.accountHolderState===SchedulingApiAccountHolderState.ACTIVE || api.data.adyenAccount.accountHolderState===SchedulingApiAccountHolderState.INACTIVE) && api.data.adyenAccount.onboardingActionRequiredOrPending" i18n>Adyen benÃ¶tigt weitere Daten oder Unterlagen, um den vollen Funktionsumfang der Online-Zahlung anbieten zu kÃ¶nnen. Mehr Infos dazu erhÃ¤ltst du per Email und auf der Onboarding-Seite von Adyen (<a class="link" (click)="scrollToAdyenChangeData()">siehe unten</a>).</strong>
												<strong *ngIf="api.data.adyenAccount.accountHolderState===SchedulingApiAccountHolderState.CLOSED" i18n>Dein Buchungskonto ist geschlossen! Melde dich bei uns, wenn du die Online-Zahlung wieder nutzen mÃ¶chtest.</strong>
												<strong *ngIf="api.data.adyenAccount.accountHolderState===SchedulingApiAccountHolderState.SUSPENDED" i18n>Dein Buchungskonto ist gesperrt! Melde dich bei uns, wenn du die Online-Zahlung wieder nutzen mÃ¶chtest.</strong>
												&nbsp;
											</ng-container>
											<p-deadline
												*ngIf="api.isLoaded() && !!api.data.adyenAccount.deadlineDate"
												[theme]="PThemeEnum.WARNING"
												[timestamp]="1+api.data.adyenAccount.deadlineDate"
												[tooltipContent]="api.data.adyenAccount.upcomingDeadlineState"
												[dateFormat]="AngularDatePipeFormat.SHORT"
												label="Frist fÃ¼r die Bearbeitung ist" i18n-label
											></p-deadline>
									</div>
									<p-button
										[isLoading]="!api.isLoaded()"
										[attributeInfo]="null"
										title="Direkt runter scrollen" i18n-title
										[badge]="canDoOnboarding && api.data.adyenAccount.onboardingActionRequiredOrPending"
										(triggerClick)="api.data.adyenAccount.accountHolderState===SchedulingApiAccountHolderState.NOT_INITIALIZED ? scrollToAdyenActivation() : scrollToAdyenChangeData()"
									><fa-icon icon="arrow-down"></fa-icon>&ngsp;<ng-container i18n>{api.data.adyenAccount.accountHolderState===SchedulingApiAccountHolderState.NOT_INITIALIZED,select, true {Direkt zur Aktivierung scrollen} other {Direkt zur DatenÃ¤nderung scrollen}}</ng-container></p-button>
									</div>
								</p-grid>
							</ng-container>
						</p-section>
						<p-section>
							<p-grid>
								<div class="col-12 col-md-6 d-flex flex-column align-items-stretch justify-content-center">
									<h4 id="ein-zuverlaessiger-partner" i18n>Ein ZuverlÃ¤ssiger Partner</h4>
									<p i18n>Die Online-Zahlung realisieren wir in Zusammenarbeit mit unserem Partner <a href="https://www.adyen.com/" rel="noopener" target="_blank">Adyen N.V.</a>, dem renommierten niederlÃ¤ndischen Zahlungsdienstleister. Die Firma verfÃ¼gt Ã¼ber eine europÃ¤ische Banklizenz und zÃ¤hlt international agierende Unternehmen wie eBay, Spotify, booking.com und LinkedIn zu eigenen Kunden. Auch wir sind von der QualitÃ¤t Ã¼berzeugt und freuen uns gemeinsam mit Adyen <a routerLink="/client/plugin/faq-online-payment" fragment="adyen-privacy" rel="noopener" target="_blank">sichere</a> und benutzerfreundliche Online-Zahlungsfunktionen anbieten zu kÃ¶nnen.</p>
								</div>
								<div class="col-12 col-md-6 d-flex flex-column align-items-stretch justify-content-center">
									<div class="position-relative">
										<div class="info-card mb-90">
											<img src="./images/plano-logo/logo.svg" alt="Dr.&nbsp;Plano Logo" height="100px"/>
										</div>
										<div class="info-card" style="position: absolute; right: 0; bottom: 0;">
											<img src="./images/adyen/adyen_logo.svg" alt="Adyen Logo" height="100px"/>
										</div>
									</div>
								</div>
							</p-grid>
						</p-section>
						<p-section [background]="'light-cold'">
								<p-grid>
									<div class="p-0 col-12 col-md-7 d-flex flex-column align-items-stretch justify-content-center">
										<img src="./images/adyen/drplano_payment_methods_4x3.png" alt="Online-Zahlungsarten (Sofort, SEPA, Mastercard, Visa, Google Pay)" i18n-alt/>
									</div>
									<div id="payment-methods" class="col-12 col-md-5 d-flex flex-column align-items-stretch justify-content-center">
										<h4 i18n>Viele Zahlungsarten</h4>
										<p i18n>Gerade bei der Online-Zahlung ist es zentral, dass Kunden die Zahlungsart ihres Vertrauens nutzen kÃ¶nnen. Wir stellen je nach Land ein differenziertes Repertoire an Zahlungsarten zur VerfÃ¼gung, sodass fÃ¼r alle das Passende dabei ist. Melde dich gerne bei uns, wenn die Zahlungsart deiner Wahl dennoch fehlen sollte.</p>
									</div>
								</p-grid>
						</p-section>
						<p-section>
							<p-grid>
								<div id="pricing" class="col-12 col-md-5 d-flex flex-column align-items-stretch justify-content-center">
									<h4 i18n>Faire Preise</h4>
									<p i18n>Gemeinsam mit unserem Partner Adyen kÃ¶nnen wir ein einfaches und faires Preismodell gewÃ¤hrleisten. Die Online-Zahlung und die vielen Funktionen, die dadurch erst ermÃ¶glicht werden, sparen alltÃ¤glich Zeit und Geld.</p>
									<p i18n>Auch die Abrechnung mit Dr.&nbsp;Plano lÃ¤uft vollkommen automatisiert ab und kostet dich keine Zeit. Mehr zu den Preisen und zur Abrechnung findest du <a routerLink="/client/plugin/faq-online-payment" fragment="pricing" rel="noopener" target="_blank">hier</a>.</p>
								</div>
								<div class="col-12 col-md-7 d-flex flex-column align-items-stretch justify-content-center">
									<div class="m-0 m-md-3 info-card p-3 p-md-5">
										<ul class="fa-ul pricing-card-list">
											<li class="pb-3" i18n><span class="fa-li color-primary"><i class="fas fa-lg fa-plus-circle"></i></span>Einfach: viele Zahlungsarten, ein Preis</li>
											<li class="pb-3" i18n><span class="fa-li color-primary"><i class="fas fa-lg fa-plus-circle"></i></span>Keine Fix-Kosten, sondern eine GebÃ¼hr pro Transaktion</li>
											<li class="pb-3" i18n><span class="fa-li color-primary"><i class="fas fa-lg fa-plus-circle"></i></span>Transparente Anzeige der angefallenen GebÃ¼hr pro Transaktion</li>
										</ul>
										<div class="col-12" style="text-align: center;">
											<span class="adyen-fee"><h5 style="display: inline-block;">2,39% + 0,35â‚¬</h5></span>
											<p class="adyen-fee-hint" i18n>je Einzahlung oder RÃ¼ckerstattung<br><small>* Netto-Preise zzgl. USt.</small></p>
										</div>
									</div>
								</div>
							</p-grid>
						</p-section>

						<p-section [background]="'light-cold'">
							<p-grid>
								<div class="col-12 col-md-6 d-flex flex-column align-items-stretch justify-content-center">
									<!-- cspell:ignore youtube -->
									<p-youtube class="py-3" [key]="Config.getLanguageCode() === PSupportedLanguageCodes.de ? 'OXTnJkf9anw' : 'a91W4WiiAo8'" quality="maxresdefault"></p-youtube>
								</div>
								<div class="col-12 col-md-6 d-flex flex-column align-items-stretch justify-content-center">
									<h4 i18n>Funktionen in Kombination</h4>
									<p i18n>Die Online-Zahlung ermÃ¶glicht weitere Kombi-Funktionen. Als besonders zeitsparend sticht hier die Funktion hervor, direkt aus Dr.&nbsp;Plano heraus RÃ¼ckzahlungen an Kunden vornehmen zu kÃ¶nnen. Oder du setzt gleich auf komplette Automatisierung, indem du einerseits deinen Kunden erlaubst, ihre Buchungen selbst online zu stornieren und andererseits die Funktion der automatischen RÃ¼ckerstattung aktivierst. Schau dir dazu gerne das Tutorial-Video an.</p>
									<p i18n>Mehr darÃ¼ber auch in unserer <a routerLink="/client/plugin/faq-online-payment" fragment="refund" rel="noopener" target="_blank"><fa-icon [fixedWidth]="true" [icon]="PlanoFaIconPool.AREA_FAQ" class="mr-1"></fa-icon>FAQ zur Online-Zahlung</a></p>
									<p *ngIf="showPaypalShutdownAlert" i18n>Wenn du bislang bei Dr.&nbsp;Plano PayPal benutzt hast, dann schau dir bitte zusÃ¤tzlich die <a href="https://extras.dr-plano.com/new-online-payment" rel="noopener" target="_blank">FAQ zur Umstellung</a> von PayPal auf die neue Online-Zahlung an.</p>
								</div>
							</p-grid>
						</p-section>
						<p-section id="adyen-activation">
							<p-grid>
								<div class="col-12">
									<h4 i18n style="text-align: center;">Aktivierung der Online-Zahlung</h4>
									<p i18n>Um die Online-Zahlung zu aktivieren, durchlÃ¤ufst du das so genannte Onboarding unseres Partners Adyen. Dabei wird zuerst ein <strong>Buchungskonto</strong> fÃ¼r dich erstellt. AnschlieÃŸend fragt Adyen nach einigen Angaben zu dir und deinem Betrieb und prÃ¼ft diese. Diese PrÃ¼fung ist unter der Bezeichnung <strong>Â»Know Your CustomerÂ«</strong>-Erfordernis fÃ¼r Finanzinstitute gesetzlich vorgeschrieben (siehe Â§Â§ 10 bis 17 des GeldwÃ¤schegesetzes und Artikel 10 bis 29 der 4. EU-Anti-GeldwÃ¤sche-Richtlinie).</p>
									<p i18n><strong>Deine nÃ¤chsten Schritte:</strong> Lies dir bitte grÃ¼ndlich die Bedingungen unten durch. Sobald du sie akzeptiert hast, kannst du ganz unten auf den Button klicken. AnschlieÃŸend wird im Hintergrund ein Buchungskonto fÃ¼r dich erstellt und du wirst zu Adyen weitergeleitet, wo du die gesetzlich vorgeschriebenen Angaben zu dir und deinem GeschÃ¤ft machen musst. Danach wird Adyen deine Daten auf Korrektheit prÃ¼fen, was je nach Fall ein paar Tage dauern kann. Ãœber das Ergebnis der PrÃ¼fung wirst du automatisch per Email benachrichtigt werden. Bei einer positiven PrÃ¼fung kannst du direkt die Online-Zahlungsfunktionen nutzen ğŸ‰</p>
									<div class="p-0 p-md-4" *ngIf="api.isLoaded()">
										<p-alert *ngIf="me.isTestAccount" [theme]="PThemeEnum.INFO" i18n>Die Online-Zahlung steht im Test&#8209;Account nicht zur VerfÃ¼gung. <a href="./client/testaccount">Hole dir jetzt einen Echt&#8209;Account</a></p-alert>
										<div class="col-12 info-card p-4">
											<h5 i18n>Nutzung im eigenen Namen und nur fÃ¼r zugelassene Produkte</h5>
											<div class="d-flex align-items-start justify-content-center">
												<p-checkbox
													[(ngModel)]="api.data.adyenAccount.attributeInfoAdyenTermsOfServiceAccepted.value"
													[attributeInfo]="api.data.adyenAccount.attributeInfoAdyenTermsOfServiceAccepted"
													[hasButtonStyle]="false"
													[readMode]="false"
												></p-checkbox>
												<div class="flex-grow-1 py-2 adyen-agreement-checkbox-description" i18n>Hiermit versichere ich, dass ich die Zahlungsdienste nur fÃ¼r VerkÃ¤ufe im eigenen Namen nutzen werde. Ich werde die Zahlungsdienste nicht weiterverkaufen, vermieten oder auf andere Art und Weise Dritten zur Nutzung Ã¼berlassen, damit diese fÃ¼r ihre Dienste bezahlt werden kÃ¶nnen. AuÃŸerdem werde ich die Zahlungsdienste nur fÃ¼r die Produkt- und Dienstleistungsarten nutzen, die ich beim Onboarding angegeben habe. Insbesondere bestÃ¤tige ich, dass ich die Zahlungsdienste nicht fÃ¼r Produkt- oder Dienstleistungsarten nutzen werde, die Adyen N.V. (nachfolgend Adyen) auf der <a href="https://www.adyen.com/dam/jcr:47f292a9-c9e2-4a69-8592-2e15ffdc7e61/List-of-prohibited-and-restricted-products-and-services-June-2017.pdf" rel="noopener" target="_blank">Liste der untersagten Produkte und Dienste</a> aufgefÃ¼hrt hat. Falls Dr.&nbsp;Plano oder Adyen zu irgendeinem Zeitpunkt feststellen, dass die von mir beim Onboarding angegebenen Unternehmensdaten falsch sind oder sie sich geÃ¤ndert haben, ohne Dr.&nbsp;Plano oder Adyen darÃ¼ber informiert zu haben, oder wenn ich gegen eine der soeben aufgelisteten Bedingungen verstoÃŸe, kÃ¶nnen die Zahlungsdienste mit sofortiger Wirkung ausgesetzt und / oder beendet werden und es kÃ¶nnen von den Kreditkarten-Organisationen und / oder den BehÃ¶rden Geldstrafen fÃ¼r die nicht registrierte oder unangemessene Nutzung von Zahlungsdienstleistungen verhÃ¤ngt werden, die in diesem Fall von mir zu tragen wÃ¤ren.</div>
											</div>
											<h5 class="mt-3" i18n>Vertragsschluss mit Adyen & Dr.&nbsp;Plano</h5>
											<div class="d-flex align-items-start justify-content-center">
												<p-checkbox
													[(ngModel)]="api.data.adyenAccount.attributeInfoAdyenContractAccepted.value"
													[attributeInfo]="api.data.adyenAccount.attributeInfoAdyenContractAccepted"
													[hasButtonStyle]="false"
													[readMode]="false"
												></p-checkbox>
												<div class="flex-grow-1 py-2 adyen-agreement-checkbox-description" i18n>Mir ist bewusst, dass die Zahlungsdienste in Zusammenarbeit mit dem Auftragsverarbeiter Adyen N.V. (nachfolgend Adyen) zur VerfÃ¼gung gestellt werden und ich mit der DurchfÃ¼hrung des Onboardings einen direkten Vertrag mit Adyen abschlieÃŸe. Damit akzeptiere ich auch die <a href="https://www.adyen.com/dam/jcr:5d08ffb5-9130-4380-a0be-3c3952b9f58a/Adyen%2520NV%2520Terms%2520and%2520Conditions%2520-5%2520December%25202017.pdf" rel="noopener" target="_blank">AGB</a> von Adyen. Dr.&nbsp;Plano wird mir die Verbindung zu den Systemen von Adyen und damit die Nutzung der Zahlungsdienste ermÃ¶glichen und mich bei der Nutzung der von Adyen zu erbringenden Leistungen unterstÃ¼tzen. Zu diesem Zweck beauftrage ich Adyen Dr.&nbsp;Plano Zugang zu meinen bei Adyen hinterlegten Daten und Einstellungen zu gewÃ¤hren und autorisiere Dr.&nbsp;Plano diese in meinem Namen zu verwalten.</div>
											</div>
											<div class="d-flex flex-column flex-lg-row align-items-start align-items-lg-center">
												<div class="my-3 mr-lg-3 flex-shrink-0">
													<p-button
														id="adyen-change-data"
														[attributeInfo]="api.data.adyenAccount.attributeInfoOnboardingUrl"
														[theme]="PThemeEnum.PRIMARY"
														[badge]="canDoOnboarding && api.data.adyenAccount.onboardingActionRequiredOrPending"
														(triggerClick)="openAdyenOnboardingUrl()"
														[isLoading]="api.isBackendOperationRunning"
													>
														<fa-icon
															[fixedWidth]="true" [icon]="onboardingRequestRunning ? PlanoFaIconPool.SYNCING : 'sign-in-alt'" [spin]="onboardingRequestRunning"
														></fa-icon>&ngsp;<ng-container i18n>{api.data.adyenAccount.accountHolderState===SchedulingApiAccountHolderState.NOT_INITIALIZED,select, true {Onboarding bei Adyen starten} other {Daten bei Adyen bearbeiten}}</ng-container>
													</p-button>
												</div>
											</div>
											<div class="col-12 p-0">
												<div
													*ngIf="onboardingRequestRunning"
													class="mt-0 form-text"
												>
													<fa-icon
													[fixedWidth]="true" [icon]="onboardingRequestRunning ? PlanoFaIconPool.SYNCING : PlanoFaIconPool.SYNCING" [spin]="onboardingRequestRunning"
													></fa-icon>&ngsp;
													<ng-container i18n>{api.data.adyenAccount.accountHolderState===SchedulingApiAccountHolderState.NOT_INITIALIZED, select, true {Dein Buchungskonto bei Adyen wird soeben erstellt. Das kann einen Moment dauern. Du wirst gleich automatisch zur Onboarding-Seite weitergeleitet.} other {Du wirst gleich automatisch zur Onboarding-Seite weitergeleitet.}}</ng-container>
												</div>
												<p-validation-hint
													[isInvalid]="generateOnboardingFailed"
													[text]="'Leider ist etwas schief gelaufen! Bitte versuche es spÃ¤ter noch einmal.'" i18n-valueText
												></p-validation-hint>
											</div>
										</div>
									</div>
								</div>
							</p-grid>
						</p-section>
					</ng-template>
				</div>
				</p-tab>

				<p-tab
					label="Gutscheinverkauf" i18n-label
					[urlName]="PluginComponentTabs.GIFT_CARDS"
					[size]="PTabSizeEnum.FRAMELESS"
				>
					<p-section class="pt-5">
						<p-alert [theme]="PThemeEnum.INFO" i18n class="m-0">Verkaufte Gutscheine kÃ¶nnen aktuell nur vor Ort an der Kasse eingelÃ¶st werden. Dazu mÃ¼ssen sie exportiert und in der Kasse importiert werden. Eine Synchronisation findet <strong>nicht</strong> statt. Wir arbeiten daran und melden uns bei dir, sobald es mÃ¶glich ist.</p-alert>
					</p-section>
					<ng-template [ngIf]="api.isLoaded()" [ngIfElse]="spinnerTemplate">
						<p-section
							*ngIf="!api.data.isPaypalAvailable && !api.data.isOnlinePaymentAvailable; else settingsTemplate"
						>
						<p-alert
							[theme]="PThemeEnum.WARNING"
							i18n
						>Um Gutscheine online verkaufen & bezahlen lassen zu kÃ¶nnen, aktiviere bitte erst die <a routerLink="/client/plugin/payments">Online-Zahlung</a>.</p-alert>
						</p-section>
						<ng-template #settingsTemplate>
							<p-section label="Gutschein-Einstellungen" i18n-label>
								<p-voucher-settings *ngIf="!!api.data.voucherSettings.rawData"></p-voucher-settings>
							</p-section>
						</ng-template>
					</ng-template>
					<p-section id="scroll-target-id-voucher-faq" label="Fragen & Antworten" i18n-label>
						<p-collapsible>
							<span trigger i18n>Wie richte ich bei Dr.&nbsp;Plano den Gutscheinverkauf ein?</span>
							<div content class="card-body" i18n>Voraussetzung fÃ¼r den Gutscheinverkauf ist die Aktivierung der <a routerLink="/client/plugin/payments">Online-Zahlung</a>, denn Gutscheine kÃ¶nnen nur online direkt bei der Bestellung bezahlt werden. Nach der Aktivierung der Online-Zahlung kannst du auf dieser Seite das HÃ¤kchen bei Â»Gutscheine online verkaufenÂ« setzen und die dazugehÃ¶rigen Felder ausfÃ¼llen. Hinterlegst du unter dem Tab <a routerLink="/client/plugin/basis">Grunddaten</a> die Link zu eurer AGB, DatenschutzerklÃ¤rung und Stornobedingungen, dann mÃ¼ssen diese beim Gutscheinkauf vom Kunden akzeptiert werden. Als letzter Schritt muss das Homepage-Plugin auf deiner Webseite eingebunden werden. Infos zur Einbindung findest du unter dem Tab <a routerLink="/client/plugin/setup">Homepage-Plugin</a>. Danach kannst du dich entspannt zurÃ¼cklehnen und Ã¼ber die verkauften Gutscheine freuen, die du auf der Seite <a routerLink="/client/sales/gift-cards">VerkÃ¤ufe</a> einsehen kannst ğŸ‰</div>
						</p-collapsible>
						<p-collapsible>
							<span trigger i18n>Wie sieht der Gutschein aus?</span>
							<div content class="card-body" i18n>Der Gutschein wird als PDF-Anhang mit einer Email an den KÃ¤ufer verschickt. Aktuell kannst du noch keine eigenen Vorlagen fÃ¼r den Gutschein erstellen. Sobald wir diese FunktionalitÃ¤t umgesetzt haben, sagen wir dir Bescheid.<br>Wenn du dir die jetzige Vorlage anschauen mÃ¶chtest, dann klicke bitte <a class="external-link" [externalLink]="'static/gift_card_example.pdf' | pLocalizeFile" rel="noopener">hier.</a></div>
						</p-collapsible>
						<p-collapsible>
							<span trigger i18n>Wie kÃ¶nnen meine Kunden die Gutscheine einlÃ¶sen?</span>
							<div content class="card-body" i18n>Zurzeit kÃ¶nnen Gutscheine nur vor Ort an der Kasse eingelÃ¶st werden. In der nÃ¤chsten Version werden wir die Online-EinlÃ¶sung von Gutscheinen sowie eine Synchronisation mit Kassen einfÃ¼hren. Bis dahin musst du die verkauften Gutscheine in deiner Kasse importieren. Entweder manuell oder mithilfe des Exports, den du an dieser Stelle machen kannst. <strong>Achtung:</strong> Zu deiner eigenen Sicherheit frag bitte bei deinem Anbieter der Kassensoftware nach, ob Gutscheine Ã¼berschrieben werden, falls du sie ungewollt mehrfach importierst.</div>
						</p-collapsible>
						<p-collapsible>
							<span trigger i18n>EnthÃ¤lt der verkaufte Gutschein Steuern?</span>
							<div content class="card-body" i18n>Beim verkauften Gutschein handelt es sich um einen so genannten Â»MehrzweckgutscheinÂ« - frÃ¼her Â»WertgutscheinÂ« genannt. Dieser Gutschein ist nicht fÃ¼r einen bestimmten Zweck gedacht und deshalb kein Â»EinzweckgutscheinÂ« - frÃ¼her Â»SachgutscheinÂ« genannt. Aus diesem Grund erfolgt die Besteuerung erst mit der der tatsÃ¤chlichen Lieferung bzw. Leistung - also erst bei der EinlÃ¶sung des Gutscheins. Bitte stimme dies mit deiner Buchhaltung ab.</div>
						</p-collapsible>
					</p-section>
				</p-tab>

				<p-tab
					label="Email-Vorlagen" i18n-label
					urlName="emails"
				>
					<div *ngIf="api.isLoaded() && accountApi.isLoaded(); else spinnerTemplate">
						<div class="mb-5" i18n>Hier erstellst und editierst du Email-Vorlagen fÃ¼r die automatisierte Kunden-Kommunikation. Eine Vorlage kann fÃ¼r mehrere buchbare Angebote verwendet werden. Du kannst aber auch fÃ¼r einzelne Angebote individuelle Vorlagen erstellen. Welche der hier vorhandenen Vorlagen letztendlich verwendet werden, legst du in jeder TÃ¤tigkeit unter dem Reiter Â»BuchungseinstellungenÂ« fest.</div>
						<p-custom-course-emails></p-custom-course-emails>
					</div>
				</p-tab>

				<p-tab
					label="Homepage-Plugin" i18n-label
					urlName="setup"
					[size]="PTabSizeEnum.FRAMELESS"
				>
					<div [class.p-5]="!Config.IS_MOBILE" [class.p-4]="Config.IS_MOBILE">
						<div i18n>Auf dieser Seite erfÃ¤hrst du, wie du in nur wenigen Schritten deine Homepage in eine Buchungsplattform verwandelst. AuÃŸerdem bekommst du eine Vorschau, wie unser Buchungsplugin ungefÃ¤hr auf deiner Homepage aussehen wird. <strong>Beachte:</strong> Unser Plugin wird sich im Design an deine Seite anpassen, sobald du es einbindest. AuÃŸerdem kannst du es Ã¼ber CSS selbst gestalten.</div>
					</div>
					<div class="voda-bg-light">
						<div class="iframe-settings">
							<div [class.p-5]="!Config.IS_MOBILE" [class.p-4]="Config.IS_MOBILE">
								<h5 class="text-white" i18n>Einstellung der Plugin-Breite</h5>
								<p-radio
									class="mb-3"
									(checkedChange)="iframeFixedWidth=false"
									[checked]="iframeFixedWidth===false"
									[card]="true"
									i18n
								>Dynamische Breite (passt sich eurer Homepage an)</p-radio>
								<p-grid>
									<div class="col-6">
										<p-radio
											(checkedChange)="iframeFixedWidth=true"
											[checked]="iframeFixedWidth===true"
											[card]="true"
											i18n
										>Feste Breite</p-radio>
									</div>
									<div class="col-6">
										<div class="input-group">
											<input class="form-control"
												type="number"
												autocomplete="off"
												step="10"
												min="280"
												max="800"
												[disabled]="!iframeFixedWidth"
												[(ngModel)]="iframeWidth"
											/>
											<div class="input-group-append">
												<span class="input-group-text" i18n>Pixel</span>
											</div>
										</div>
									</div>
								</p-grid>
							</div>
						</div>
						<div class="p-4">
							<div
								class="d-block ml-auto mr-auto"
								height="500px"
								[style.width]="iframeFixedWidth ? (iframeWidth + 'px') : '100%'"
							>
								<p-booking-plugin-preview *ngIf="showPlugin"></p-booking-plugin-preview>
							</div>
						</div>
					</div>
					<div [class.p-5]="!Config.IS_MOBILE" [class.p-4]="Config.IS_MOBILE">
						<h3 id="scroll-target-id-integration" class="text-center my-5" i18n>Plugin auf deiner Homepage einbinden</h3>
						<p i18n>Das Plugin lÃ¤sst sich entweder mit einem MenÃ¼ einbinden, das alle deine buchbaren Angebote beinhaltet â€“ wie oben in der Vorschau zu sehen ist. Oder du bindest deine buchbaren Angebote / den Gutscheinverkauf einzeln & ohne das MenÃ¼ ein â€“ diese Methode ist sinnvoll, wenn du schon eine MenÃ¼-Navigation auf deiner Homepage hast.</p>
						<div class="mb-6">
							<p id="host-name-required-hint"><fa-icon [icon]="PlanoFaIconPool.LINK" class="text-primary mr-3"></fa-icon><ng-container i18n>Bitte gib erst die Domain der Homepage an, wo du das Plugin einbinden mÃ¶chtest. Das ist aus SicherheitsgrÃ¼nden notwendig:</ng-container></p>
							<p-multi-value-input
								[pEditable]="true"
								#pEditableRef="pEditable"
								[api]="api"

								class="mb-3"
								[ngModel]="api.data.reCaptchaWhiteListedHostNames.iterable()"
								(itemAdded)="reCaptchaWhiteListedHostNameAdded($event, pEditableRef)"
								(itemRemoved)="reCaptchaWhiteListedHostNameRemoved($event, pEditableRef)"
								type="Domain"
							></p-multi-value-input>
						</div>
						<div class="mb-6">
							<h5 class="text-center mb-4"><fa-icon [icon]="PlanoFaIconPool.GRID_MENU" class="text-primary mr-3"></fa-icon><ng-container i18n>Plugin mit einem MenÃ¼</ng-container></h5>
							<ol>
								<li i18n>FÃ¼ge folgenden Code-Schnipsel per Copy & Paste auf deiner Homepage kurz vor dem HTML-Tag <code>{{ '<\/body>' }}</code> ein.</li>
							</ol>

							<ng-template [ngTemplateOutlet]="snippetPreviewTemplate" [ngTemplateOutletContext]="{$implicit: scriptSnippet}"></ng-template>
							<button
								type="button"
								class="btn btn-primary d-block ml-auto mb-3"
								[disabled]="!scriptSnippet"
								(click)="copyString(scriptSnippet!)"
							><fa-icon [fixedWidth]="true" icon="clipboard"></fa-icon>&nbsp;<ng-container i18n>HTML-Code in die Zwischenablage kopieren</ng-container></button>

							<ol start="2">
								<li i18n>Ã–ffne den HTML-Code derjenigen Seite, wo das Plugin angezeigt werden soll.</li>
								<li i18n>FÃ¼ge den folgenden Code-Schnipsel per Copy & Paste an der Stelle deiner Homepage ein, wo du deine buchbaren Angebote und ggf. den Gutscheinverkauf als MenÃ¼ angezeigt haben mÃ¶chtest. Das war's âœŒ</li>
							</ol>
							<ng-template [ngTemplateOutlet]="snippetPreviewTemplate" [ngTemplateOutletContext]="{$implicit: getSnippet(null)}"></ng-template>
							<button
								type="button"
								class="btn btn-primary d-block ml-auto mb-3"
								[disabled]="!getSnippet(null)"
								(click)="copyString(getSnippet(null)!)"
							><fa-icon [fixedWidth]="true" icon="clipboard"></fa-icon>&nbsp;<ng-container i18n>HTML-Code in die Zwischenablage kopieren</ng-container></button>

						</div>
						<div class="mb-6">
							<h5 class="text-center mb-4"><fa-icon [icon]="PlanoFaIconPool.TEXT_LEFT" class="text-primary mr-3"></fa-icon><ng-container i18n>Plugin ohne das MenÃ¼</ng-container></h5>
							<p i18n>Wenn du die Angebote und den <strong>Gutscheinverkauf</strong> nicht als MenÃ¼ dargestellt haben mÃ¶chtest, dann lasse den obigen Schritt Nr. 3 aus und wÃ¤hle stattdessen hier den spezifischen Code-Schnipsel zum jeweiligen Angebot oder zum Gutscheinverkauf. FÃ¼ge den Link per Copy & Paste an der Stelle deiner Homepage ein, wo du das jeweilige Angebot bzw. den Gutscheinverkauf angezeigt haben mÃ¶chtest.</p>

							<p-grid>

								<div class="col-12 col-md-6 mb-3">
									<div *ngIf="api.isLoaded(); else spinnerTemplate" class="d-flex">
										<div class="w-100">
											<p-input-shiftmodel-id
												style="min-height: 38px;"
												class="w-100"
												[ngModel]="selectedShiftModel ? selectedShiftModel.id : undefined"
												(ngModelChange)="selectedShiftModel = api.data.shiftModels.get($event)"
												[items]="coursesForDropdown"
												(focus)="$event ? selectedShiftModel=null : !undefined"
											></p-input-shiftmodel-id>
										</div>
										<!-- <button class="btn btn-danger ml-2"
											(click)="selectedShiftModel=undefined"
										><fa-icon [fixedWidth]="true" icon="trash"></fa-icon></button> -->
									</div>
								</div>
								<div class="col-12 col-md-6 mb-3 d-flex align-items-center">
									<label class="m-0 p-0"><strong i18n>Gutscheinverkauf</strong>&nbsp;<span *ngIf="api.data.voucherSettings.rawData && !api.data.voucherSettings.isVoucherSaleEnabled" class="text-warning" i18n>(Noch nicht aktiviert)</span></label>
								</div>

								<div class="col-12 col-md-6">
									<ng-template [ngTemplateOutlet]="snippetPreviewTemplate" [ngTemplateOutletContext]="{$implicit: getSnippet(selectedShiftModel)}"></ng-template>
									<button
										type="button"
										class="btn btn-primary d-block ml-auto mb-3"
										[disabled]="!selectedShiftModel || !getSnippet(selectedShiftModel)"
										(click)="copyString(getSnippet(selectedShiftModel)!)"
									>
										<fa-icon [fixedWidth]="true" icon="clipboard"></fa-icon>&nbsp;<ng-container i18n>HTML-Code in die Zwischenablage kopieren</ng-container>
									</button>

								</div>

								<div class="col-12 col-md-6">

									<ng-template [ngTemplateOutlet]="snippetPreviewTemplate" [ngTemplateOutletContext]="{$implicit: getSnippet(true)}"></ng-template>
									<button
										*ngIf="api.data.voucherSettings.rawData && !!api.data.voucherSettings.isVoucherSaleEnabled"
										type="button"
										class="btn btn-primary d-block ml-auto mb-3"
										[disabled]="!getSnippet(true)"
										(click)="copyString(getSnippet(true)!)"
									>
										<fa-icon [fixedWidth]="true" icon="clipboard"></fa-icon>&nbsp;<ng-container i18n>HTML-Code in die Zwischenablage kopieren</ng-container>
									</button>
								</div>
							</p-grid>

						</div>
						<div id="scroll-target-id-faq">
							<span><h3 class="text-center" i18n>Anpassung des Plugins durch CSS</h3></span>
							<p-collapsible id="basic">
								<span trigger i18n>Plugin individuell anpassen</span>
								<div content class="card-body" i18n>Unser Plugin wird sich im Design an deine Seite anpassen, sobald du es einbindest. DafÃ¼r greift das Plugin auf die CSS-Styles deiner Homepage zurÃ¼ck. ZusÃ¤tzlich kannst du per CSS das Plugin gestalten. Alle Elemente des Plugins haben CSS-Klassen, die du selektieren und gestalten kannst. Um die gewÃ¼nschte Klasse herauszufinden, nutzt du am besten den Inspektor deiner Browser-Developer-Tools. Damit du die Klassen besser erkennen kannst, beginnen alle Dr.&nbsp;Plano-Klassennamen folgendermaÃŸen: <mark class="text-monospace">.drp-â€¦</mark></div>
							</p-collapsible>
							<p-collapsible id="hide-sections">
								<span trigger i18n>Teile des Plugins ausblenden</span>
								<div content class="card-body">
									<p i18n>Per CSS lassen sich bestimmte Elemente des Plugins selektieren und ausblenden. Nehmen wir beispielhaft an, du mÃ¶chtest die Checkbox mit der Frage ausblenden, ob der Kunde deinen Newsletter empfangen mÃ¶chte. Das kannst du mit folgendem CSS-Code erreichen:</p>
									<pre>.drp-course-booking-wants-newsletter {{ '{' }}<br> display: none;<br>{{ '}' }}</pre>
									<p i18n>Auf diese weise wÃ¼rdest du die Frage nach dem Newsletter fÃ¼r <strong>alle</strong> buchbaren Angebote im Buchungsplugin ausblenden. MÃ¶chtest du das aber <strong>nur fÃ¼r ein bestimmtes Angebot</strong> tun, dann musst du zusÃ¤tzlich die individuelle Klasse des jeweiligen Angebots selektieren, die folgendermaÃŸen aussieht: <mark class="text-monospace">.drp-course-id-&lt;id&gt;</mark> Um die richtige Klasse herauszufinden, nutzt du am besten die Developer-Konsole deines Browsers. Der CSS-Code, um die Newsletter-Abfrage bei einem Angebot mit der beispielhaften ID <mark class="text-monospace">1234</mark> auszublenden, sieht dann folgendermaÃŸen aus:</p>
									<pre>.drp-course-id-1234 .drp-course-booking-wants-newsletter {{ '{' }}<br> display: none;<br>{{ '}' }}</pre>
								</div>
							</p-collapsible>
							<p-collapsible id="hide-required-inputs">
								<span trigger i18n>Pflichtangaben der buchenden Person im Plugin weglassen (z.B. die Adresse oder Telefonnummer)</span>
								<div content class="card-body">
									<p-alert i18n [theme]="PThemeEnum.INFO">Das Weglassen von Pflichtfeldern reduziert die Aussagekraft deiner <a routerLink="/client/sales/bookings" rel="noopener" target="_blank">Statistik</a>, die du zur Analyse & Optimierung deiner Buchungen nutzen kannst. Wenn du z.B. die Adresse der buchenden Person nicht mehr abfragst, kann dir keine Statistik Ã¼ber die Regionen angezeigt werden, aus denen deine Zielgruppe stammt.</p-alert>
									<p-alert i18n [theme]="PThemeEnum.INFO">Das Weglassen von Pflichtfeldern wie der Anschrift fÃ¼hrt bei Online-Zahlungen zu einem erhÃ¶hten 3-D Secure-Verfahren und die Zahlenden mÃ¼ssen eine weitere TAN eingeben. Denn die Anschrift hilft den Kreditkartenorganisationen, die Zahlungspflichtigen zu verifizieren.</p-alert>
									<p i18n><strong>So geht's nicht:</strong> Pflichtfelder, die die buchende Person ausfÃ¼llen muss, sollten nicht Ã¼ber die CSS-Eigenschaft <mark class="text-monospace">display: none</mark> ausgeblendet werden. Denn obwohl sie so ausgeblendet werden, erwartet der Browser trotzdem eine Angabe durch deinen Kunden; dein Kunde hat aber keine MÃ¶glichkeit, die Felder auszufÃ¼llen, da sie ausgeblendet sind. Auf diese Weise bleibt das Formular ungÃ¼ltig und die Buchung kann nicht durchgefÃ¼hrt werden.</p>
									<p i18n><strong>Der richtige Weg:</strong> Um Pflichtfelder wegzubekommen, musst du das <mark class="text-monospace">&lt;div&gt;</mark> Element anpassen, womit du das Plugin auf deiner Seite eingebunden hast. Im folgenden Beispiel siehst du, wie man das <mark class="text-monospace">&lt;div&gt;</mark> Element eines Angebots mit der ID <mark class="text-monospace">1234</mark> so anpasst, dass Pflichtfelder abgeschafft werden â€“ dabei sind alle Pflichtfelder aufgelistet, die du weglassen darfst. Du kannst dir einfach die fÃ¼r dich relevanten rauspicken:</p>
										<pre>&lt;div id="drp-booking" data-course-id="1234"
<!-- 									-->  data-hide-date-of-birth="true"		<span class="text-muted">&lt;!-- Geburtsdatum weglassen --&gt;</span>
<!-- 									-->  data-hide-street-and-house-number="true"	<span class="text-muted">&lt;!-- StraÃŸe und Hausnummer weglassen --&gt;</span>
<!-- 									-->  data-hide-postal-code="true"			<span class="text-muted">&lt;!-- PLZ weglassen --&gt;</span>
<!-- 									-->  data-hide-city="true"				<span class="text-muted">&lt;!-- Stadt weglassen --&gt;</span>
<!-- 									-->  data-hide-phone-mobile="true"			<span class="text-muted">&lt;!-- Mobilnummer weglassen --&gt;</span>
<!-- 									-->  data-hide-phone-landline="true"		<span class="text-muted">&lt;!-- Festnetznummer weglassen --&gt;</span>
<!-- 									-->  data-hide-wants-newsletter="true"		<span class="text-muted">&lt;!-- Abfrage weglassen, ob dein Newsletter gewÃ¼nscht ist (wird am Ende des Buchungsprozesses abgefragt) --&gt;</span>
<!-- 									-->&gt;&lt;/div&gt;</pre>
									<p i18n>â˜ In deinem Dr.&nbsp;Plano-Account werden bei Buchungen die Pflichtfelder, die du auf diese Weise nicht abgefragt hast, mit einem <mark class="text-monospace">â€“</mark> gefÃ¼llt sein. Nicht wundern ğŸ˜‰</p>
								</div>
							</p-collapsible>
							<p-collapsible id="custom-images">
								<span trigger i18n>Eigene Bilder im Kachel-MenÃ¼ verwenden</span>
								<!-- cspell:ignore bild -->
								<div content class="card-body">
									<p i18n>Die Bilder fÃ¼r die einzelnen Kacheln im AngebotsmenÃ¼ lassen sich per CSS durch eigene Bilder ersetzen. FÃ¼r ein Angebot mit der ID <mark class="text-monospace">1234</mark> musst du folgendes eingeben:</p>
									<pre>.drp-course-list-item-id-1234 .drp-course-list-item-image {{ '{' }}<br> background-image: url('&lt;<ng-container i18n>url_vom_bild</ng-container>&gt;') !important;<br>{{ '}' }}</pre>
									<p i18n><strong>Beachte:</strong> Deine eigenen Bilder sollten dasselbe SeitenverhÃ¤ltnis haben wie die vordefinierten Bilder: Breite / HÃ¶he = {{ 1.53 | number }}. Um die Ladezeit nicht unnÃ¶tig zu verlÃ¤ngern, solltest du auÃŸerdem auf zu groÃŸe Bilder verzichten. Unsere Bilder haben folgende GrÃ¶ÃŸe: 255 x 167 px.</p>
								</div>
							</p-collapsible>
							<p-collapsible id="change-order">
								<span trigger i18n>Die Reihenfolge der Angebote Ã¤ndern</span>
								<div content class="card-body">
									<p i18n>Um im AngebotsmenÃ¼ die Reihenfolge der angezeigten Angebote zu Ã¤ndern, suchst du dir die CSS-Klassen der jeweiligen Angebote mit Hilfe der Developer-Konsole deines Browsers heraus. AnschlieÃŸend fÃ¼gst per CSS jeder Klasse das Attribut <mark class="text-monospace">order</mark>, wonach die Angebote sortiert werden sollen. Bei einem Angebot mit der ID <mark class="text-monospace">1234</mark> sieht der CSS-Code folgendermaÃŸen aus:</p>
									<pre>.drp-course-list-item-1234 {{ '{' }}<br> order: -1;<br>{{ '}' }}</pre>
								</div>
							</p-collapsible>
							<p-collapsible id="toc">
								<span trigger i18n>Die Zustimmung zu AGB, DatenschutzerklÃ¤rung etc. bei einem Angebot ausblenden</span>
								<div content class="card-body">
									<p i18n>Wenn du bei einem Angebot von deiner allgemeinen Regel abweichen mÃ¶chtest, dass die Kunden vor einer Buchung deiner AGB, DatenschutzerklÃ¤rung oder Teilnahmebedingungen zustimmen mÃ¼ssen, dann kannst du eine solche Ausnahme mit folgenden Flags definieren: <mark class="text-monospace">data-hide-terms</mark>, <mark class="text-monospace">data-hide-data-protection</mark> und <mark class="text-monospace">data-hide-terms-of-participation</mark>. Diese werden in dem <mark class="text-monospace">&lt;div&gt;</mark>, womit du das Plugin fÃ¼r das Angebot einbindest, eingefÃ¼gt. Der HTML-Code, um alle drei Links auszublenden, sieht so aus:</p>
									<pre>{{exampleSnippetToc}}</pre>
									<button type="button" class="btn btn-primary d-block ml-auto mb-3" (click)="copyString(exampleSnippetToc)"><fa-icon [fixedWidth]="true" icon="clipboard"></fa-icon>&nbsp;<ng-container i18n>HTML-Code in die Zwischenablage kopieren</ng-container></button>
								</div>
							</p-collapsible>
							<p-collapsible id="custom-agreement">
								<span trigger i18n>Zustimmung einholen fÃ¼r benutzerdefinierte Vereinbarungen oder Bedingungen</span>
								<div content class="card-body">
									<p i18n>Zum Abschluss einer Buchung kannst du die Zustimmung deiner Kunden zu deiner AGB, DatenschutzerklÃ¤rung, Teilnahme- sowie Stornobedingungen einholen. DafÃ¼r musst du lediglich <a routerLink="/client/plugin/basis" fragment="legal-links-anchor" rel="noopener" target="_blank">hier</a> die jeweilige URL eintragen. Bei Bedarf kannst du auch die Zustimmung deiner Kunden fÃ¼r weitere Vereinbarungen oder Bedingungen einholen. ErgÃ¤nze dafÃ¼r den <mark class="text-monospace">&lt;div&gt;</mark>, womit du das Plugin auf deiner Homepage einbindest, folgendermaÃŸen:</p>
									<pre>{{exampleSnippetCustomAgreement}}</pre>
									<button type="button" class="btn btn-primary d-block ml-auto mb-3" (click)="copyString(exampleSnippetCustomAgreement)"><fa-icon [fixedWidth]="true" icon="clipboard"></fa-icon>&nbsp;<ng-container i18n>HTML-Code in die Zwischenablage kopieren</ng-container></button>
									<p class="mt-4">â˜ der Text in <mark class="text-monospace">< ></mark> inkl. den Klammern muss ersetzt werden durch den konkreten Inhalten, den du angezeigt bekommen mÃ¶chtest</p>
								</div>
							</p-collapsible>
							<p-collapsible id="multiple-instances">
								<span trigger i18n>Das Buchungsplugin mehrmals auf derselben Seite anzeigen lassen</span>
								<div content class="card-body">
									<h6 i18n>Das MenÃ¼ mehrmals anzeigen</h6>
										<p i18n>FÃ¼ge das <mark class="text-monospace">&lt;div&gt;</mark> Element, das du oben fÃ¼r das MenÃ¼ findest, so oft deiner HTML-Seite hinzu, wie du das MenÃ¼ anzeigen lassen mÃ¶chtest. Dabei musst du das in jedem <mark class="text-monospace">&lt;div&gt;</mark> enthaltene <mark class="text-monospace">id</mark> Attribut so ergÃ¤nzen, dass daraus eine einzigartige ID wird. Orientiere dich einfach am folgenden Beispiel, in dem das MenÃ¼ drei Mal eingebunden werden soll:</p>
										<pre>&lt;div id="drp-booking<strong>-1</strong>"&gt;<br>&lt;div id="drp-booking<strong>-2</strong>"&gt;<br>&lt;div id="drp-booking<strong>-3</strong>"&gt;</pre>
									<h6 i18n>Mehrere Angebote ohne das MenÃ¼ auf derselben Seite anzeigen</h6>
										<p i18n>FÃ¼ge die <mark class="text-monospace">&lt;div&gt;</mark> Elemente der einzelnen Angebote, die du oben abrufen kannst, an den Stellen deiner HTML-Seite ein, wo deren Inhalte erscheinen sollen. Dabei mÃ¼ssen â€“ wie beim mehrmaligen Einbinden des MenÃ¼s â€“ die ID der <mark class="text-monospace">&lt;div&gt;</mark> Elemente entsprechend folgendem Beispiel angepasst werden:</p>
										<pre>&lt;div id="drp-booking<strong>-1</strong>" data-course-id="9879"&gt;<br>&lt;div id="drp-booking<strong>-2</strong>" data-course-id="9968"&gt;<br>&lt;div id="drp-booking<strong>-3</strong>" data-course-id="8998"&gt;</pre>
										<p i18n>â˜ Auch wenn du beides kombinierst und gleichzeitig das MenÃ¼ sowie einzelne Angebote auf derselben HTML-Seite einbindest, musst du darauf achten, dass jedes <mark class="text-monospace">&lt;div&gt;</mark> Element eine eigene ID hat.</p>
								</div>
							</p-collapsible>
						</div>
					</div>
				</p-tab>

				<!-- Inform Mui if you have to change this url, as it's used in the manual of Boulderado in order to explain how to connect their pos with Dr.&nbsp;Plano -->
				<p-tab
					label="Schnittstellen" i18n-label
					urlName="interfaces"
				>
					<div *ngIf="api.isLoaded() && accountApi.isLoaded(); else spinnerTemplate">
						<div class="mb-4" i18n>Hier hast du die MÃ¶glichkeit, deinen <span class="nowrap">Dr.&nbsp;Plano-Account</span> mit anderen LÃ¶sungen zu verbinden, um dein Buchungssystem zu optimieren. Die Verbindung zu einer Kassensoftware vereinfacht das Check-In von Teilnehmenden. Die Routendatenbank-Apps sind ein zusÃ¤tzlicher Vertriebskanal fÃ¼r deine Kurse & Events. Und falls dir eine Schnittstelle fehlt, dann melde dich gerne bei uns.</div>
						<h3 i18n>UnterstÃ¼tze Anbieter</h3>
						<p-interface-cards
							class="mb-4"
							(onClick)="onClickInterfaceCards($event)"
							[posSystem]="posSystem!"
							[paymentSystem]="!!accountApi.data.paypalAccountEmail ? PSupportedPaymentSystems.PAYPAL : undefined"
							[isUsingBeta7]="api.data.isUsingBeta7"
							[isUsingRoutesManager]="api.data.isUsingRoutesManager"
							[isUsingKletterszene]="!!api.data.kletterszeneId"
						></p-interface-cards>
					</div>
				</p-tab>

				<p-tab
					label="Datenschutz" i18n-label
					urlName="privacy"
					[size]="PTabSizeEnum.FRAMELESS"
				>
					<p-section *ngIf="accountApi.isLoaded() && !!formGroup; else spinnerTemplate" label="Anonymisierung von Kundendaten" class="pt-5" i18n-label>
						<p i18n>Um Datenschutzvorgaben einzuhalten, kannst du hier die automatische Anonymisierung von Buchungen deiner Kunden aktivieren. Dabei werden personenbezogene Daten in Buchungen von Gutscheinen, Kursen, Slots usw. anonymisiert, sodass die Buchungen keinen Personen mehr zugeordnet werden kÃ¶nnen. Auch ZahlungseintrÃ¤ge, die mit den Buchungen verbunden sind und personenbezogene Daten enthalten, werden anonymisiert. FÃ¼r die Buchhaltung oder statistische Auswertungen relevante Daten bleiben unverÃ¤ndert.</p>
						<p i18n>Die Anonymisierung geschieht einige Monate nach Beendigung des vom Kunden gebuchten Angebots; bei Gutscheinen einige Monate nach VerjÃ¤hrung eines Gutscheins. Sicherheitshalber werden alle anonymisierten Buchungen und ZahlungseintrÃ¤ge in einem passwortgeschÃ¼tzten Export an eure <a routerLink="/client/account/location" fragment="booking-contact" target="_blank" rel="noopener">Ansprechperson fÃ¼r das Buchungssystem</a> (Email: {{accountApi.data.bookingSystemContactEmail}}) geschickt.</p>
						<p class="mb-5" i18n>Von der Anonymisierung generell ausgenommen sind Buchungen, bei denen noch eine Kundenzahlung oder RÃ¼ckerstattung offen ist. Ebenfalls ausgenommen sind Gutscheine mit unbeschrÃ¤nkter GÃ¼ltigkeitsdauer.</p>
						<p-grid>
							<div class="col-12 col-md-7">
								<p-form-control-switch
									*ngIf="!!formGroup"
									[pEditable]="true"
									[api]="accountApi"
									[saveChangesHook]="getModalHook()"

									label="Buchungen & ZahlungseintrÃ¤ge anonymisieren nach" i18n-label
									[group]="formGroup"
									[attributeInfo]="accountApi.data.attributeInfoAutomaticBookableAnonymizationAfterPeriod"
									inputGroupAppendText="Monaten nach Angebotsende / GutscheinsverjÃ¤hrung" i18n-inputGroupAppendText
								></p-form-control-switch>
							</div>
							<div class="col-12 col-md-5">
								<p-form-group label="Passwort fÃ¼r den Export" i18n-label>
									<p-input-copy-string
										[type]="PApiPrimitiveTypes.Password"
										[valueToCopy]="accountApi.data.automaticBookableAnonymizationExportPassword"
									></p-input-copy-string>
								</p-form-group>
							</div>
						</p-grid>
						<ng-container
							*ngIf="automaticBookableAnonymizationAfterPeriod !== null; else noAutomaticBookableAnonymizationAfterPeriodTemplate"
						>
							<p-alert
								*ngIf="automaticBookableAnonymizationAfterPeriod < 4"
								i18n
								[dismissable]="false"
							>Wir empfehlen dir die Buchungsdaten frÃ¼hestens nach <mark>vier Monaten</mark> zu anonymisieren, um bei mÃ¶glichen <a routerLink="/client/plugin/faq-online-payment/" fragment="chargeback" rel="noopener" target="_blank">Zahlungsreklamationen</a> essenzielle Daten fÃ¼r die Anfechtung der Reklamation zur VerfÃ¼gung zu haben.</p-alert>
							<p-alert
								i18n
								[theme]="PThemeEnum.INFO"
								[dismissable]="false"
							>Die automatische Anonymisierung ist <mark>aktiviert</mark>. Sie wird ein Mal pro Monat ausgefÃ¼hrt. Die nÃ¤chste AusfÃ¼hrung ist am <mark>{{ accountApi.data.nextAutomaticBookableAnonymization | date:'shortDate' }}</mark>. Um die automatische Anonymisierung zu deaktivieren, lasse bitte das obige Feld leer.</p-alert>
						</ng-container>
						<ng-template #noAutomaticBookableAnonymizationAfterPeriodTemplate>
							<p-alert
								[theme]="PAlertThemeEnum.PLAIN"
								[dismissable]="false"
								i18n
							>Die automatische Anonymisierung ist <mark>deaktiviert</mark>. Um sie zu aktivieren, trage bitte oben ein, auf welche Buchungen und ZahlungseintrÃ¤ge die Anonymisierung angewandt werden soll.</p-alert>
						</ng-template>
					</p-section>
				</p-tab>
			</p-tabs>

		</div>
	</scroll-shadow-box>
</div>

<ng-template #spinnerTemplate>
	<p-spinner [size]="BootstrapSize.LG" class="m-3"></p-spinner>
</ng-template>

<ng-template #snippetPreviewTemplate let-snippet>
	<ng-container *ngIf="!!snippet"><pre>{{ snippet }}</pre></ng-container>
	<ng-container *ngIf="!snippet"><pre i18n><fa-icon [icon]="'lock'"></fa-icon> Um den Code zu erhalten, gib bitte erst <a routerLink="/client/plugin/setup" fragment="host-name-required-hint">oben</a> die Domain der Homepage an, auf der du das Plugin einbinden mÃ¶chtest.</pre></ng-container>
</ng-template>

